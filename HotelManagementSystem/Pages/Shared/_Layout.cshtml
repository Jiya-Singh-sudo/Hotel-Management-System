<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Staywise</title>
    
    <link rel="stylesheet" href="~/css/styles.css" asp-append-version="true" />
</head>
<body>
    
    <nav>
        <div class="logo">
            <a asp-page="/Index" class="logo-text">staywise.</a>
        </div>
        <ul class="nav-links" id="navLinks">
            <li><a asp-page="/Index">Home</a></li>
            <li><a asp-controller="Rooms" asp-action="Index">Rooms</a></li>
            <li><a asp-controller="Bookings" asp-action="Create">Booking</a></li>
            <li><a asp-page="/Contact">Contact</a></li> 
        </ul>
        <button class="login-btn">
          <a asp-controller="Account" asp-action="Login">Login</a>
        </button>
    </nav>
    <main role="main">
        @RenderBody()
    </main>

    <footer class="contact-details">
        <p>Staywise Hotel, 24 Grand Avenue, Lakeside</p>
        <p>+91 98765 43210</p>
        <p>reservations@staywise.com</p>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    
    <script>
        const logoText = document.querySelector('.logo-text');
        const loginBtn = document.querySelector('.login-btn');

        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const landing = document.querySelector('.landing');
            const contact = document.querySelector('.contact-preview');

            // Skip if the landing/contact sections aren't on the current page
            if (!landing || !contact) return; 

            const landingBottom = landing.offsetTop + landing.offsetHeight;
            const contactTop = contact.offsetTop;

            if (scrollY > landingBottom - 100 && scrollY < contactTop - 100) {
                // sections 2–4
                logoText.classList.add('dark-logo');
                loginBtn.classList.add('dark-button');
            } else {
                // section 1 (landing) and 5 (contact)
                logoText.classList.remove('dark-logo');
                loginBtn.classList.remove('dark-button');
            }
        }, { passive: true });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>